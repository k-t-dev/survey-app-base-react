{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/DEVELOPMENT/survey/frontend/src/pages/MenuBar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, Link, useLocation, useParams } from 'react-router-dom';\nimport './Dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MenuBar = () => {\n  _s();\n  const location = useLocation();\n  const {\n    companyId,\n    shopId\n  } = useParams();\n  const [shopName, setShopName] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchShopName = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const response = await fetch('http://0.0.0.0:5001/shops'); // Fetch the list of all shops\n        if (!response.ok) {\n          const message = `HTTP error! status: ${response.status}`;\n          throw new Error(message);\n        }\n        const data = await response.json();\n\n        // Find the shop with the matching shopId\n        const currentShop = data.find(shop => shop.shop_id === shopId);\n        if (currentShop) {\n          setShopName(currentShop.shop_name);\n        } else {\n          setError(`店舗ID ${shopId} の情報が見つかりませんでした`);\n        }\n      } catch (err) {\n        setError(\"店舗情報の取得に失敗しました\");\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (shopId) {\n      fetchShopName();\n    } else {\n      setShopName(\"店舗情報取得中...\");\n      setLoading(false);\n    }\n  }, [shopId]);\n  const menuItems = [{\n    to: `/survey-app/dashboard/${companyId}/${shopId}`,\n    label: 'ダッシュボード'\n  }, {\n    to: `/survey-app/survey-edit/${companyId}/${shopId}`,\n    label: 'アンケート編集'\n  }, {\n    to: `/survey-app/survey-preview/${companyId}/${shopId}`,\n    label: 'アンケートプレビュー'\n  }\n  // 他のメニュー項目もここに追加できる\n  ];\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u5E97\\u8217\\u60C5\\u5831\\u3092\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"\\u30A8\\u30E9\\u30FC\\u304C\\u767A\\u751F\\u3057\\u307E\\u3057\\u305F: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"menu-bar\",\n    children: [shopName && /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"shop-name\",\n      children: shopName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"menu-title\",\n      children: \"\\u30E1\\u30CB\\u30E5\\u30FC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"menu-list\",\n      children: menuItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: location.pathname === item.to ? 'active' : '',\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: item.to,\n          children: item.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)\n      }, item.label, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(MenuBar, \"AOKuhsNXU/AMUtQ3nvp2ozt2PvM=\", false, function () {\n  return [useLocation, useParams];\n});\n_c = MenuBar;\nexport default MenuBar;\nvar _c;\n$RefreshReg$(_c, \"MenuBar\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Link","useLocation","useParams","jsxDEV","_jsxDEV","MenuBar","_s","location","companyId","shopId","shopName","setShopName","loading","setLoading","error","setError","fetchShopName","response","fetch","ok","message","status","Error","data","json","currentShop","find","shop","shop_id","shop_name","err","console","menuItems","to","label","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","item","pathname","_c","$RefreshReg$"],"sources":["/Users/user/Desktop/DEVELOPMENT/survey/frontend/src/pages/MenuBar.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, Link, useLocation, useParams } from 'react-router-dom';\nimport './Dashboard.css';\n\nconst MenuBar = () => {\n  const location = useLocation();\n  const { companyId, shopId } = useParams();\n  const [shopName, setShopName] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchShopName = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const response = await fetch('http://0.0.0.0:5001/shops'); // Fetch the list of all shops\n        if (!response.ok) {\n          const message = `HTTP error! status: ${response.status}`;\n          throw new Error(message);\n        }\n        const data = await response.json();\n        \n        // Find the shop with the matching shopId\n        const currentShop = data.find(shop => shop.shop_id === shopId);\n\n        if (currentShop) {\n          setShopName(currentShop.shop_name);\n        } else {\n          setError(`店舗ID ${shopId} の情報が見つかりませんでした`);\n        }\n      } catch (err) {\n        setError(\"店舗情報の取得に失敗しました\");\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (shopId) {\n      fetchShopName();\n    } else {\n      setShopName(\"店舗情報取得中...\");\n      setLoading(false);\n    }\n  }, [shopId]);\n\n  const menuItems = [\n    { to: `/survey-app/dashboard/${companyId}/${shopId}`, label: 'ダッシュボード' },\n    { to: `/survey-app/survey-edit/${companyId}/${shopId}`, label: 'アンケート編集' },\n    { to: `/survey-app/survey-preview/${companyId}/${shopId}`, label: 'アンケートプレビュー' },\n    // 他のメニュー項目もここに追加できる\n  ];\n\n  if (loading) {\n    return <div>店舗情報を読み込み中...</div>;\n  }\n\n  if (error) {\n    return <div>エラーが発生しました: {error}</div>;\n  }\n\n  return (\n    <div className=\"menu-bar\">\n      {shopName && <h3 className=\"shop-name\">{shopName}</h3>}\n      <h2 className=\"menu-title\">メニュー</h2>\n      <ul className=\"menu-list\">\n        {menuItems.map((item) => (\n          <li key={item.label} className={location.pathname === item.to ? 'active' : ''}>\n            <Link to={item.to}>{item.label}</Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default MenuBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}